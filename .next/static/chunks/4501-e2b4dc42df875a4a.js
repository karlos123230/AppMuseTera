(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4501],{34170:function(e,a,t){"use strict";t.d(a,{j:function(){return n}});var o=t(57437),i=t(38041);function n(e){let{onSelect:a,selectedId:t,disabled:n,className:s=""}=e,{patients:r,loading:l}=(0,i.w)();return l?(0,o.jsx)("div",{className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 text-sm text-center",children:"Carregando pacientes..."}):(0,o.jsxs)("div",{className:"w-full space-y-1",children:[(0,o.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Selecione o Paciente"}),(0,o.jsxs)("select",{value:t||"",onChange:e=>{let t=e.target.value;a((t?r.find(e=>e.id===t):null)||null)},disabled:n,className:"\n          block w-full rounded-lg border-gray-300 \n          py-2 sm:py-2.5 \n          pl-3 pr-10 \n          text-sm text-gray-900 \n          focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 \n          ".concat(s,"\n        "),children:[(0,o.jsx)("option",{value:"",className:"text-xs sm:text-sm",children:"Selecione um paciente"}),r.map(e=>(0,o.jsxs)("option",{value:e.id,className:"text-xs sm:text-sm",children:[e.name," (",new Date(e.dateOfBirth).toLocaleDateString(),")"]},e.id))]})]})}},11836:function(e,a,t){"use strict";t.d(a,{W:function(){return u}});var o=t(57437),i=t(2265),n=t(57418),s=t(34170),r=t(60930);let l=[{id:"sessao",label:"Relat\xf3rio de Sess\xe3o"},{id:"evolucao_mensal",label:"Relat\xf3rio de Evolu\xe7\xe3o Mensal"},{id:"evolucao_semestral",label:"Relat\xf3rio de Evolu\xe7\xe3o Semestral"},{id:"avaliacao",label:"Relat\xf3rio de Avalia\xe7\xe3o"},{id:"alta",label:"Relat\xf3rio de Alta"},{id:"familia",label:"Relat\xf3rio para Fam\xedlia"},{id:"equipe",label:"Relat\xf3rio para Equipe"}],d=[{titulo:"Conclus\xf5es",campos:[{id:"evolucao",label:"Evolu\xe7\xe3o Observada",tipo:"textarea",placeholder:"Descreva a evolu\xe7\xe3o observada..."},{id:"dificuldades",label:"Dificuldades Encontradas",tipo:"textarea",placeholder:"Descreva as dificuldades observadas..."},{id:"recomendacoes",label:"Recomenda\xe7\xf5es",tipo:"textarea",placeholder:"Insira as recomenda\xe7\xf5es e orienta\xe7\xf5es..."},{id:"observacoes",label:"Observa\xe7\xf5es Adicionais",tipo:"textarea",placeholder:"Outras observa\xe7\xf5es relevantes..."}]}],c={sessao:{evolucao:["Paciente demonstrou progresso significativo na intera\xe7\xe3o musical, evidenciado por","Observou-se melhora na comunica\xe7\xe3o verbal durante as atividades musicais, caracterizada por","Apresentou evolu\xe7\xe3o na coordena\xe7\xe3o motora e express\xe3o r\xedtmica, manifestada atrav\xe9s de","Houve avan\xe7o na regula\xe7\xe3o emocional durante as interven\xe7\xf5es musicais, demonstrado por","Notou-se desenvolvimento na capacidade de aten\xe7\xe3o sustentada, especialmente durante","Evidenciou progresso na intera\xe7\xe3o social durante as atividades em grupo, expresso por"],dificuldades:["Apresentou dificuldade na manuten\xe7\xe3o do foco atencional durante","Demonstrou resist\xeancia em participar de atividades que envolvem","Observou-se limita\xe7\xe3o na coordena\xe7\xe3o motora para","Manifestou desorganiza\xe7\xe3o comportamental quando","Apresentou dificuldade em seguir comandos relacionados a"],recomendacoes:["Sugere-se a continuidade do trabalho com \xeanfase em","Recomenda-se intensificar as atividades voltadas para","Indica-se a manuten\xe7\xe3o das interven\xe7\xf5es focadas em","Prop\xf5e-se adapta\xe7\xe3o das atividades para melhor atender","Orienta-se o desenvolvimento de estrat\xe9gias espec\xedficas para"]},evolucao_mensal:{evolucao:["Durante o per\xedodo observou-se consistente evolu\xe7\xe3o em aspectos como","O desenvolvimento das habilidades musicais demonstrou progresso em","Houve significativa melhora nos padr\xf5es comportamentais, especialmente em","A evolu\xe7\xe3o na comunica\xe7\xe3o foi evidenciada atrav\xe9s de","O progresso na intera\xe7\xe3o social manifestou-se por meio de"],dificuldades:["Persistem desafios significativos em rela\xe7\xe3o a","Identificou-se necessidade de maior suporte em","As principais barreiras observadas relacionam-se a","Requer aten\xe7\xe3o espec\xedfica o desenvolvimento de"],recomendacoes:["Recomenda-se a intensifica\xe7\xe3o do trabalho terap\xeautico em","Sugere-se a implementa\xe7\xe3o de novas estrat\xe9gias para","Indica-se a manuten\xe7\xe3o das interven\xe7\xf5es focadas em","Prop\xf5e-se reavalia\xe7\xe3o dos objetivos relacionados a"]},alta:{evolucao:["Ao longo do processo terap\xeautico, observou-se significativa evolu\xe7\xe3o em","O desenvolvimento global demonstrou progressos consistentes em","Atingiu-se os objetivos terap\xeauticos propostos, especialmente em","Houve generaliza\xe7\xe3o das habilidades adquiridas para"],dificuldades:["Os desafios remanescentes concentram-se em","Aspectos que podem beneficiar-se de acompanhamento continuado:","\xc1reas que requerem monitoramento posterior:","Pontos de aten\xe7\xe3o para acompanhamento futuro:"],recomendacoes:["Recomenda-se manuten\xe7\xe3o de atividades musicais em ambiente","Sugere-se acompanhamento peri\xf3dico para monitoramento de","Indica-se reavalia\xe7\xe3o em [per\xedodo] para verifica\xe7\xe3o de","Orienta-se a fam\xedlia quanto \xe0 continuidade de"]}};function u(e){let{onSubmit:a,initialData:t}=e,[u,m]=(0,i.useState)(null),[p,v]=(0,i.useState)(t||{}),[g,f]=(0,i.useState)(""),x=(e,a,t)=>{v(o=>({...o,[e]:{...o[e],[a]:t}}))};return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u&&a({tipo:g,patientId:u.id,data:new Date,conteudo:p,status:"finalizado"})},className:"space-y-6",children:[(0,o.jsx)(n.Z,{children:(0,o.jsxs)("div",{className:"p-6 space-y-4",children:[(0,o.jsx)(s.j,{onSelect:m,selectedId:null==u?void 0:u.id}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Relat\xf3rio"}),(0,o.jsxs)("select",{className:"w-full p-2 border rounded-lg",value:g,onChange:e=>f(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"",children:"Selecione o tipo de relat\xf3rio..."}),l.map(e=>(0,o.jsx)("option",{value:e.id,children:e.label},e.id))]})]})]})}),u&&g&&(0,o.jsxs)(o.Fragment,{children:[d.map((e,a)=>(0,o.jsx)(n.Z,{children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:e.titulo}),(0,o.jsx)("div",{className:"space-y-4",children:e.campos.map(a=>(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a.label}),function(e,a,t,i){if("textarea"===e.tipo&&i&&c[i]){let n=c[i][e.id];return(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("textarea",{className:"w-full p-2 border rounded-lg",rows:4,value:a[e.id]||"",onChange:e=>t(e.target.value),placeholder:e.placeholder}),n&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Sugest\xf5es de texto:"}),(0,o.jsx)("div",{className:"space-y-1",children:n.map((i,n)=>(0,o.jsxs)("button",{type:"button",onClick:()=>t(a[e.id]?"".concat(a[e.id],"\n").concat(i):i),className:"text-sm text-indigo-600 hover:text-indigo-800 block",children:["+ ",i]},n))})]})]})}switch(e.tipo){case"text":return(0,o.jsx)("input",{type:"text",className:"w-full p-2 border rounded-lg",value:a[e.id]||"",onChange:e=>t(e.target.value),placeholder:e.placeholder});case"textarea":return(0,o.jsx)("textarea",{className:"w-full p-2 border rounded-lg",rows:4,value:a[e.id]||"",onChange:e=>t(e.target.value),placeholder:e.placeholder});case"select":var n;return(0,o.jsxs)("select",{className:"w-full p-2 border rounded-lg",value:a[e.id]||"",onChange:e=>t(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Selecione..."}),null===(n=e.opcoes)||void 0===n?void 0:n.map(e=>(0,o.jsx)("option",{value:e.id||e,children:e.label||e},e.id||e))]});default:return null}}(a,p[e.titulo]||{},t=>x(e.titulo,a.id,t),g)]},a.id))})]})},a)),(0,o.jsx)("div",{className:"flex justify-end gap-4",children:(0,o.jsx)("button",{type:"button",onClick:()=>{var e;if(!u||!g||!p)return;let a=new r.ZP,t=20;a.setFont("helvetica");let o=(null===(e=l.find(e=>e.id===g))||void 0===e?void 0:e.label)||g;a.setFontSize(18),a.text(o,a.internal.pageSize.getWidth()/2,t,{align:"center"}),t+=15,a.setFontSize(12),a.text("Data: ".concat(new Date().toLocaleDateString("pt-BR")),a.internal.pageSize.getWidth()/2,t,{align:"center"}),t+=20,a.setFontSize(14),a.text("Dados do Paciente",20,t),t+=10,a.setFontSize(12),a.text("Nome: ".concat(u.name),20,t),t+=7,a.text("Data de Nascimento: ".concat(new Date(u.dateOfBirth).toLocaleDateString("pt-BR")),20,t),t+=15,Object.entries(p).forEach(e=>{let[o,i]=e;"object"==typeof i&&null!==i&&(t>a.internal.pageSize.getHeight()-40&&(a.addPage(),t=20),a.setFontSize(14),a.setFont("helvetica","bold"),a.text(o,20,t),t+=10,a.setFontSize(12),a.setFont("helvetica","normal"),Object.entries(i).forEach(e=>{let[o,i]=e;if(i){t>a.internal.pageSize.getHeight()-20&&(a.addPage(),t=20);let e=Array.isArray(i)?i.join(", "):i.toString(),n=a.splitTextToSize(e,a.internal.pageSize.getWidth()-40);a.setFont("helvetica","bold"),a.text("".concat(o,": "),20,t);let s=a.getTextWidth("".concat(o,": "));a.setFont("helvetica","normal"),n.forEach((e,o)=>{0===o?a.text(e,20+s,t):(t+=7,a.text(e,20,t))}),t+=10}}),t+=5)}),t>a.internal.pageSize.getHeight()-40&&(a.addPage(),t=20),t+=20,a.setFont("helvetica","normal"),a.text("_".repeat(50),a.internal.pageSize.getWidth()/2,t,{align:"center"}),t+=7,a.text("Assinatura do Musicoterapeuta",a.internal.pageSize.getWidth()/2,t,{align:"center"}),t+=7,a.text("CRM/CREFITO",a.internal.pageSize.getWidth()/2,t,{align:"center"});let i="".concat(g.toLowerCase(),"_").concat(u.name.toLowerCase().replace(/\s+/g,"_"),"_").concat(new Date().toLocaleDateString("pt-BR").replace(/\//g,"_"),".pdf");a.save(i)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Exportar PDF"})})]})]})}},57418:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var o=t(57437);function i(e){let{children:a,className:t=""}=e;return(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-lg ring-1 ring-gray-900/5 ".concat(t),children:a})}},38041:function(e,a,t){"use strict";t.d(a,{w:function(){return i}});var o=t(2265);function i(){let[e,a]=(0,o.useState)([]),[t,i]=(0,o.useState)(!0),n=()=>{a(JSON.parse(localStorage.getItem("patients")||"[]").map(e=>({...e,dateOfBirth:new Date(e.dateOfBirth),createdAt:new Date(e.createdAt)}))),i(!1)};return(0,o.useEffect)(()=>(n(),window.addEventListener("patientsUpdated",n),()=>window.removeEventListener("patientsUpdated",n)),[]),{patients:e,loading:t,addPatient:a=>{let t=[...e,a];localStorage.setItem("patients",JSON.stringify(t)),window.dispatchEvent(new Event("patientsUpdated"))},updatePatient:a=>{let t=[...e],o=t.findIndex(e=>e.id===a.id);-1!==o&&(t[o]=a,localStorage.setItem("patients",JSON.stringify(t)),window.dispatchEvent(new Event("patientsUpdated")))},deletePatient:a=>{let t=e.filter(e=>e.id!==a);localStorage.setItem("patients",JSON.stringify(t)),window.dispatchEvent(new Event("patientsUpdated"))},refreshPatients:n}}},30622:function(e,a,t){"use strict";var o=t(2265),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,t){var o,n={},d=null,c=null;for(o in void 0!==t&&(d=""+t),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(c=a.ref),a)s.call(a,o)&&!l.hasOwnProperty(o)&&(n[o]=a[o]);if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===n[o]&&(n[o]=a[o]);return{$$typeof:i,type:e,key:d,ref:c,props:n,_owner:r.current}}a.Fragment=n,a.jsx=d,a.jsxs=d},57437:function(e,a,t){"use strict";e.exports=t(30622)},24033:function(e,a,t){e.exports=t(15313)}}]);