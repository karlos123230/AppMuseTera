(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1963],{76661:function(e,t,a){Promise.resolve().then(a.bind(a,95210))},95210:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var s=a(57437),o=a(2265),i=a(57418),r=a(34170);function n(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e)}var l=a(5044),c=a(57548),d=a(60930),m=a(57703),x=a(28485),p=a(36612),g=a(86812),u=a(79857),h=a(44909),f=a(16573),b=a(24235),y=a(50039),v=a(31346);let w=[{categoria:"Comportamentos restritivos",parametros:["Estereotipias","Agressividade","Desinteresse","Passividade","Resist\xeancia","Reclus\xe3o (isolamento)","Pirra\xe7a"],escala:{nao:2,pouco:1,muito:0}},{categoria:"Intera\xe7\xe3o social / Cogni\xe7\xe3o",parametros:["Contato visual","Comunica\xe7\xe3o verbal","Intera\xe7\xe3o com instrumentos musicais","Intera\xe7\xe3o com outros objetos","Intera\xe7\xe3o com educador ou musicoterapeuta","Intera\xe7\xe3o com pais (se aplic\xe1vel)","Intera\xe7\xe3o com pares (se aplic\xe1vel)","Aten\xe7\xe3o","Imita\xe7\xe3o"],escala:{nao:0,pouco:1,muito:2}},{categoria:"Percep\xe7\xe3o / Explora\xe7\xe3o r\xedtmica",parametros:["Pulso interno","Regula\xe7\xe3o temporal",{nome:"Apoio",multiplicador:2},{nome:"Ritmo real",multiplicador:2},{nome:"Contrastes de andamento",multiplicador:2}],escala:{nao:0,pouco:1,muito:2}},{categoria:"Percep\xe7\xe3o / Explora\xe7\xe3o sonora",parametros:["Som/sil\xeancio","Timbre","Planos de altura","Movimento sonoro","Contrastes de intensidade","Repeti\xe7\xe3o de ideias r\xedtmicas e/ou mel\xf3dicas","Senso de conclus\xe3o"],escala:{nao:0,pouco:1,muito:2}},{categoria:"Explora\xe7\xe3o vocal",parametros:["Vocaliza\xe7\xf5es","Balbucios","S\xedlabas can\xf4nica",{nome:"Imita\xe7\xe3o de can\xe7\xf5es",multiplicador:2},{nome:"Cria\xe7\xe3o vocal",multiplicador:2}],escala:{nao:0,pouco:1,muito:2}},{categoria:"Movimenta\xe7\xe3o corporal com a m\xfasica",parametros:["Andar","Correr","Parar","Dan\xe7ar","Pular","Gesticular","Movimentar-se no lugar"],escala:{nao:0,pouco:1,muito:2}}],j=e=>e.parametros.reduce((e,t)=>e+2*("string"==typeof t?1:t.multiplicador||1),0),N=(e,t)=>{let a={"Comportamentos restritivos":14,"Intera\xe7\xe3o social / Cogni\xe7\xe3o":18,"Percep\xe7\xe3o / Explora\xe7\xe3o r\xedtmica":16,"Percep\xe7\xe3o / Explora\xe7\xe3o sonora":14,"Explora\xe7\xe3o vocal":14,"Movimenta\xe7\xe3o corporal com a m\xfasica":14};t!==a[e]&&console.warn("Aviso: Pontua\xe7\xe3o m\xe1xima calculada para ".concat(e," (").concat(t,") difere do esperado (").concat(a[e],")"))},S=["#4ade80","#ff87ab"],C=["#6366f1","#8b5cf6","#ec4899","#f43f5e","#f97316","#eab308"];function A(e){let{avaliacoes:t,pieChartRef:a,barChartRef:r}=e,n=function(e){if(0===Object.keys(e).length)return{habilidades:[{name:"Adquirido",value:0},{name:"N\xe3o adquirido",value:100}],categorias:[{name:"Comportamentos Restritivos",value:0},{name:"Intera\xe7\xe3o Social",value:0},{name:"Explora\xe7\xe3o R\xedtmica",value:0},{name:"Explora\xe7\xe3o Sonora",value:0},{name:"Explora\xe7\xe3o Vocal",value:0},{name:"Movimenta\xe7\xe3o com a M\xfasica",value:0}]};let t=e=>"string"==typeof e?e:e.nome,a=e=>"string"==typeof e?1:e.multiplicador||1,s=0,o=0;w.forEach(i=>{let r=j(i);N(i.categoria,r),i.parametros.forEach(r=>{let n=t(r),l=a(r),c=e[n];c&&(o+=2*l,"Comportamentos restritivos"===i.categoria?"muito"===c?s+=0:"pouco"===c?s+=1*l:"nao"===c&&(s+=2*l):"muito"===c?s+=2*l:"pouco"===c&&(s+=1*l))})});let i=o>0?Math.round(s/o*100):0;return{habilidades:[{name:"Adquirido",value:i},{name:"N\xe3o adquirido",value:100-i}],categorias:w.map(s=>{let o=0,i=j(s),r=0;s.parametros.forEach(i=>{let n=t(i),l=a(i),c=e[n];c&&(r++,"Comportamentos restritivos"===s.categoria?"muito"===c?o+=0:"pouco"===c?o+=1*l:"nao"===c&&(o+=2*l):"muito"===c?o+=2*l:"pouco"===c&&(o+=1*l))});let n=r>0?Math.round(o/i*100):0;return{name:s.categoria.replace("Percep\xe7\xe3o / ","").replace(" / Cogni\xe7\xe3o",""),value:n}})}}(t),[l,c]=(0,o.useState)(0);(0,o.useEffect)(()=>{c(window.innerWidth);let e=()=>c(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=l<640?{width:300,height:250}:l<1024?{width:350,height:300}:{width:400,height:300},A=l<640?{width:300,height:300}:l<1024?{width:400,height:300}:{width:500,height:300};return(0,s.jsxs)(i.Z,{className:"p-4 sm:p-6 mt-6 bg-white shadow-lg rounded-xl",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-800 text-center",children:"Resultados da Escala de Avalia\xe7\xe3o TEA"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl shadow-inner",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700 text-center",children:"Habilidades Adquiridas"}),(0,s.jsx)("div",{className:"flex justify-center",ref:a,children:(0,s.jsxs)(m.u,{width:d.width,height:d.height,children:[(0,s.jsx)(x.b,{data:n.habilidades,cx:d.width/2,cy:d.height/2,innerRadius:.15*d.width,outerRadius:.25*d.width,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:n.habilidades.map((e,t)=>(0,s.jsx)(p.b,{fill:S[t%S.length],className:"hover:opacity-80 transition-opacity duration-200"},"cell-".concat(t)))}),(0,s.jsx)(g.u,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",padding:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,s.jsx)(u.D,{verticalAlign:"bottom",height:36,formatter:e=>(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl shadow-inner",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700 text-center",children:"Desempenho por Categoria"}),(0,s.jsx)("div",{className:"flex justify-center",ref:r,children:(0,s.jsxs)(h.v,{width:A.width,height:A.height,data:n.categorias,margin:{top:5,right:30,left:20,bottom:65},children:[(0,s.jsx)(f.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,s.jsx)(b.K,{dataKey:"name",angle:-45,textAnchor:"end",height:100,tick:{fill:"#4b5563",fontSize:12}}),(0,s.jsx)(y.B,{tick:{fill:"#4b5563",fontSize:12},domain:[0,100]}),(0,s.jsx)(g.u,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",padding:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,s.jsx)(v.$,{dataKey:"value",name:"Porcentagem",radius:[4,4,0,0],children:n.categorias.map((e,t)=>(0,s.jsx)(p.b,{fill:C[t%C.length],className:"hover:opacity-80 transition-opacity duration-200"},"cell-".concat(t)))})]})})]})]})]})}var E=a(42692),P=a.n(E),D=a(5343);function R(){let[e,t]=(0,o.useState)(null),[a,m]=(0,o.useState)({}),[x,p]=(0,o.useState)(""),g=(0,o.useRef)(null),u=(0,o.useRef)(null),h=async()=>{if(!e)return;let t=new d.ZP,s=(e,a,s)=>{t.setFillColor(s),t.rect(0,e,t.internal.pageSize.getWidth(),a,"F")};try{let e=await fetch("/logo-musicoterapia.png"),a=await e.blob(),s=new FileReader;await new Promise(e=>{s.onload=()=>{s.result&&t.addImage(s.result,"PNG",10,10,20,20),e(null)},s.readAsDataURL(a)})}catch(e){console.error("Erro ao carregar a logo:",e)}s(0,40,"#f3f4f6"),t.setFontSize(24),t.setTextColor("#1f2937"),t.text("ESCALA PARA AVALIA\xc7\xc3O TEA",105,25,{align:"center"});let o=50;if(t.setFillColor("#ffffff"),t.setDrawColor("#e5e7eb"),t.roundedRect(10,o,t.internal.pageSize.getWidth()-20,40,3,3,"FD"),t.setFontSize(12),t.setTextColor("#374151"),o+=15,t.text("Paciente: ".concat(e.nome),20,o),o+=10,t.text("Data de Nascimento: ".concat(n(e.dataNascimento)),20,o),t.text("Data da Avalia\xe7\xe3o: ".concat(new Date().toLocaleDateString()),t.internal.pageSize.getWidth()-20,o,{align:"right"}),o+=25,t.setFontSize(16),t.setTextColor("#1f2937"),t.text("Resultados da Avalia\xe7\xe3o",105,o,{align:"center"}),o+=15,w.forEach((e,i)=>{s(o-5,25,i%2==0?"#f9fafb":"#ffffff"),t.setFontSize(14),t.setTextColor("#1f2937"),t.text(e.categoria,20,o),o+=10,t.setFontSize(10),t.setTextColor("#4b5563"),e.parametros.forEach(e=>{let s="string"==typeof e?e:e.nome,i=a[s]||"N\xe3o avaliado",r="".concat(s).concat("string"==typeof e?"":" (2x)",": ").concat(i);t.setDrawColor("#e5e7eb"),t.setFillColor("#ffffff"),t.roundedRect(30,o-4,150,8,1,1,"FD"),t.text(r,35,o),(o+=10)>t.internal.pageSize.getHeight()-20&&(t.addPage(),o=20)}),o+=5}),t.addPage(),o=20,s(0,40,"#f3f4f6"),t.setFontSize(20),t.setTextColor("#1f2937"),t.text("Visualiza\xe7\xe3o Gr\xe1fica dos Resultados",105,25,{align:"center"}),g.current){let e=(await P()(g.current)).toDataURL("image/png");t.addImage(e,"PNG",20,50,170,100)}if(u.current){let e=(await P()(u.current)).toDataURL("image/png");t.addImage(e,"PNG",20,160,170,100)}let i=t.internal.pageSize.getHeight()-40;s(i,40,"#f3f4f6"),t.setFontSize(10),t.setTextColor("#4b5563"),t.text("_".repeat(50),20,i+15),t.text("Assinatura do Profissional",20,i+25),t.text(new Date().toLocaleDateString(),t.internal.pageSize.getWidth()-20,i+25,{align:"right"}),t.save("avaliacao_".concat(e.nome,"_").concat(new Date().toISOString().split("T")[0],".pdf"))},f=(e,t)=>{m(a=>({...a,[e]:t}))};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)(D.T,{}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsxs)("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),"Gerar PDF"]})})]}),(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:(0,s.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Paciente"}),(0,s.jsx)(r.j,{onSelect:t,selectedId:null==e?void 0:e.id,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"N\xfamero da Avalia\xe7\xe3o"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("select",{value:"1",onChange:e=>{},className:"block w-full rounded-lg border-gray-300 py-2.5 pl-3 pr-10 text-gray-900 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"1",children:"Avalia\xe7\xe3o 1"}),(0,s.jsx)("option",{value:"2",children:"Avalia\xe7\xe3o 2"}),(0,s.jsx)("option",{value:"3",children:"Avalia\xe7\xe3o 3"}),(0,s.jsx)("option",{value:"4",children:"Avalia\xe7\xe3o 4"}),(0,s.jsx)("option",{value:"5",children:"Avalia\xe7\xe3o 5"})]})})]})]}),e&&(0,s.jsxs)("div",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:e.nome}),(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:["Data de Nascimento: ",n(e.dataNascimento)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-indigo-50 px-2 sm:px-3 py-1.5 rounded-lg",children:[(0,s.jsx)(c.Z,{className:"h-4 sm:h-5 w-4 sm:w-5 text-indigo-600"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium text-indigo-700",children:"Avalia\xe7\xe3o 1"})]})]})}),(0,s.jsx)("div",{className:"space-y-6",children:w.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gray-100 p-3 sm:p-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:e.categoria})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{scope:"col",className:"px-2 sm:px-3 py-2 sm:py-3 text-left text-xs sm:text-sm font-semibold text-gray-900 w-2/4",children:"Par\xe2metros"}),(0,s.jsx)("th",{scope:"col",className:"px-2 sm:px-3 py-2 sm:py-3 text-center text-xs sm:text-sm font-semibold text-gray-900",children:"N\xe3o"}),(0,s.jsx)("th",{scope:"col",className:"px-2 sm:px-3 py-2 sm:py-3 text-center text-xs sm:text-sm font-semibold text-gray-900",children:"Pouco"}),(0,s.jsx)("th",{scope:"col",className:"px-2 sm:px-3 py-2 sm:py-3 text-center text-xs sm:text-sm font-semibold text-gray-900",children:"Muito"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-200 bg-white",children:[e.parametros.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm text-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,s.jsx)("span",{children:"string"==typeof e?e:e.nome}),"object"==typeof e&&2===e.multiplicador&&(0,s.jsx)("span",{className:"inline-flex items-center rounded-md bg-red-50 px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10",children:"x2"})]})}),["nao","pouco","muito"].map(t=>(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm text-center",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("input",{type:"radio",name:"string"==typeof e?e:e.nome,value:t,checked:a["string"==typeof e?e:e.nome]===t,onChange:()=>f("string"==typeof e?e:e.nome,t),className:"w-4 sm:w-5 h-4 sm:h-5 cursor-pointer appearance-none rounded-full transition-all duration-200 ease-in-out\n                                            ".concat("nao"===t?"border-2 border-red-500 ".concat(a["string"==typeof e?e:e.nome]===t?"bg-red-500 ring-2 ring-red-200":"bg-white hover:bg-red-50"):"pouco"===t?"border-2 border-yellow-500 ".concat(a["string"==typeof e?e:e.nome]===t?"bg-yellow-500 ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50"):"border-2 border-green-500 ".concat(a["string"==typeof e?e:e.nome]===t?"bg-green-500 ring-2 ring-green-200":"bg-white hover:bg-green-50"))})})},t))]},"string"==typeof e?e:e.nome)),(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-700 text-right",children:"Pontua\xe7\xe3o"}),(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-900 text-center",children:e.escala.nao}),(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-900 text-center",children:e.escala.pouco}),(0,s.jsx)("td",{className:"whitespace-normal px-2 sm:px-3 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-900 text-center",children:e.escala.muito})]})]})]})})]},t))}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-4 mt-6 sm:mt-8",children:[(0,s.jsx)("button",{type:"button",className:"w-full sm:w-auto inline-flex items-center justify-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-150",children:"Cancelar"}),(0,s.jsxs)("button",{type:"button",onClick:h,className:"w-full sm:w-auto inline-flex items-center justify-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold text-white bg-green-600 border border-transparent rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-150",children:[(0,s.jsx)(l.Z,{className:"h-4 sm:h-5 w-4 sm:w-5 mr-2"}),"Baixar Avalia\xe7\xe3o"]})]})]})]})})})]}),e&&(0,s.jsx)(A,{avaliacoes:a,pieChartRef:g,barChartRef:u})]})}},5343:function(e,t,a){"use strict";a.d(t,{T:function(){return r}});var s=a(57437),o=a(16691),i=a.n(o);function r(e){let{size:t="sm",showText:a=!0}=e,{width:o,height:r,textSize:n}={sm:{width:50,height:50,textSize:"text-xl"},md:{width:80,height:80,textSize:"text-2xl"},lg:{width:120,height:120,textSize:"text-3xl md:text-4xl"}}[t];return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(i(),{src:"/logo-musicoterapia.png",alt:"Logo Musicoterapia",width:o,height:r,className:"rounded-full logo-musicoterapia",priority:!0}),a&&(0,s.jsx)("span",{className:"font-bold text-green-700 ".concat(n),children:"Musicoterapia"})]})}},34170:function(e,t,a){"use strict";a.d(t,{j:function(){return i}});var s=a(57437),o=a(38041);function i(e){let{onSelect:t,selectedId:a,disabled:i,className:r=""}=e,{patients:n,loading:l}=(0,o.w)();return l?(0,s.jsx)("div",{className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 text-sm text-center",children:"Carregando pacientes..."}):(0,s.jsxs)("div",{className:"w-full space-y-1",children:[(0,s.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Selecione o Paciente"}),(0,s.jsxs)("select",{value:a||"",onChange:e=>{let a=e.target.value;t((a?n.find(e=>e.id===a):null)||null)},disabled:i,className:"\n          block w-full rounded-lg border-gray-300 \n          py-2 sm:py-2.5 \n          pl-3 pr-10 \n          text-sm text-gray-900 \n          focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 \n          ".concat(r,"\n        "),children:[(0,s.jsx)("option",{value:"",className:"text-xs sm:text-sm",children:"Selecione um paciente"}),n.map(e=>(0,s.jsxs)("option",{value:e.id,className:"text-xs sm:text-sm",children:[e.name," (",new Date(e.dateOfBirth).toLocaleDateString(),")"]},e.id))]})]})}},57418:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(57437);function o(e){let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg ring-1 ring-gray-900/5 ".concat(a),children:t})}},38041:function(e,t,a){"use strict";a.d(t,{w:function(){return o}});var s=a(2265);function o(){let[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),i=()=>{t(JSON.parse(localStorage.getItem("patients")||"[]").map(e=>({...e,dateOfBirth:new Date(e.dateOfBirth),createdAt:new Date(e.createdAt)}))),o(!1)};return(0,s.useEffect)(()=>(i(),window.addEventListener("patientsUpdated",i),()=>window.removeEventListener("patientsUpdated",i)),[]),{patients:e,loading:a,addPatient:t=>{let a=[...e,t];localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated"))},updatePatient:t=>{let a=[...e],s=a.findIndex(e=>e.id===t.id);-1!==s&&(a[s]=t,localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated")))},deletePatient:t=>{let a=e.filter(e=>e.id!==t);localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated"))},refreshPatients:i}}}},function(e){e.O(0,[2505,7337,6691,7198,5467,4763,4121,2971,4938,1744],function(){return e(e.s=76661)}),_N_E=e.O()}]);