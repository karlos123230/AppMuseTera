(()=>{var e={};e.id=922,e.ids=[922],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},38880:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=a(50482),r=a(69108),n=a(62563),l=a.n(n),i=a(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["agenda",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7385)),"c:\\Users\\karlos\\Desktop\\tera\\src\\app\\agenda\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3855)),"c:\\Users\\karlos\\Desktop\\tera\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\karlos\\Desktop\\tera\\src\\app\\agenda\\page.tsx"],u="/agenda/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/agenda/page",pathname:"/agenda",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17333:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},62724:(e,t,a)=>{Promise.resolve().then(a.bind(a,22041)),Promise.resolve().then(a.bind(a,37212)),Promise.resolve().then(a.bind(a,55831))},31362:(e,t,a)=>{Promise.resolve().then(a.bind(a,24272))},53267:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(39694);a(3729);let r=s._(a(60546));function n(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){let a=r.default,s={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let l=s.loader;return a({...s,loader:()=>null!=l?l().then(n):Promise.resolve(n(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91868:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return r}});let s=a(61462);function r(e){let{children:t}=e;return(0,s.throwWithNoSSR)(),t}},60546:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=a(39694)._(a(3729)),r=a(91868),n=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function a(e){let a=t.loading,n=s.default.createElement(a,{isLoading:!0,pastDelay:!0,error:null}),l=t.ssr?s.default.Fragment:r.NoSSR,i=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:n},s.default.createElement(l,null,s.default.createElement(i,e)))}return t.lazy=s.default.lazy(t.loader),a.displayName="LoadableComponent",a}},24272:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95344),r=a(3729),n=a(53267),l=a.n(n),i=a(79956),o=a(90395),d=a(34602);function c({isOpen:e,onClose:t,selectedDate:a,selectedEvent:n,onSave:l,onUpdate:i}){let[c,u]=(0,r.useState)(null),[m,x]=(0,r.useState)({patientId:"",data:"",horario:"",duracao:50,tipo:"sessao",observacoes:""});return(0,r.useEffect)(()=>{a&&x(e=>({...e,data:a.toISOString().split("T")[0],horario:a.toTimeString().slice(0,5)}))},[a]),(0,r.useEffect)(()=>{n&&x({patientId:n.patientId,data:n.start.toISOString().split("T")[0],horario:n.start.toTimeString().slice(0,5),duracao:(n.end.getTime()-n.start.getTime())/6e4,tipo:n.tipo,observacoes:n.observacoes||""})},[n]),(0,s.jsxs)(o.V,{open:e,onClose:t,className:"relative z-50",children:[s.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:s.jsx(o.V.Panel,{className:"mx-auto max-w-lg w-full bg-white rounded-lg shadow-xl",children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx(o.V.Title,{className:"text-lg font-semibold mb-4",children:n?"Editar Agendamento":"Novo Agendamento"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n?i(n.id,{start:new Date(`${m.data}T${m.horario}`),end:new Date(new Date(`${m.data}T${m.horario}`).getTime()+6e4*m.duracao),tipo:m.tipo,observacoes:m.observacoes}):l(m),t()},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),s.jsx(d.j,{onSelect:e=>{u(e),x(t=>({...t,patientId:e?.id||""}))},selectedId:m.patientId})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),s.jsx("input",{type:"date",value:m.data,onChange:e=>x(t=>({...t,data:e.target.value})),className:"w-full p-2 border rounded-lg",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hor\xe1rio"}),s.jsx("input",{type:"time",value:m.horario,onChange:e=>x(t=>({...t,horario:e.target.value})),className:"w-full p-2 border rounded-lg",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,s.jsxs)("select",{value:m.tipo,onChange:e=>x(t=>({...t,tipo:e.target.value})),className:"w-full p-2 border rounded-lg",required:!0,children:[s.jsx("option",{value:"sessao",children:"Sess\xe3o"}),s.jsx("option",{value:"avaliacao",children:"Avalia\xe7\xe3o"}),s.jsx("option",{value:"reavaliacao",children:"Reavalia\xe7\xe3o"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dura\xe7\xe3o (minutos)"}),s.jsx("input",{type:"number",value:m.duracao,onChange:e=>x(t=>({...t,duracao:Number(e.target.value)})),className:"w-full p-2 border rounded-lg",min:"15",max:"180",step:"5",required:!0})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observa\xe7\xf5es"}),s.jsx("textarea",{value:m.observacoes,onChange:e=>x(t=>({...t,observacoes:e.target.value})),className:"w-full p-2 border rounded-lg",rows:3})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:n?"Atualizar":"Agendar"})]})]})]})})})]})}let u=l()(async()=>{},{loadableGenerated:{modules:["c:\\Users\\karlos\\Desktop\\tera\\src\\app\\agenda\\page.tsx -> @/components/agenda/Calendario"]},ssr:!1});function m(){let{agendamentos:e,addAgendamento:t,updateAgendamento:a}=function(){let[e,t]=(0,r.useState)([]);return(0,r.useEffect)(()=>{t(JSON.parse(localStorage.getItem("agendamentos")||"[]").map(e=>({...e,start:new Date(e.start),end:new Date(e.end)})))},[]),{agendamentos:e,addAgendamento:a=>{let s=new Date(`${a.data}T${a.horario}`),r=new Date(s.getTime()+6e4*a.duracao),n=[...e,{id:crypto.randomUUID(),patientId:a.patientId,title:`${a.tipo.charAt(0).toUpperCase()+a.tipo.slice(1)}`,start:s,end:r,status:"agendado",observacoes:a.observacoes,tipo:a.tipo}];localStorage.setItem("agendamentos",JSON.stringify(n)),t(n)},updateAgendamento:(a,s)=>{let r=e.map(e=>e.id===a?{...e,...s}:e);localStorage.setItem("agendamentos",JSON.stringify(r)),t(r)},deleteAgendamento:a=>{let s=e.filter(e=>e.id!==a);localStorage.setItem("agendamentos",JSON.stringify(s)),t(s)}}}(),[n,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"p-6",children:[s.jsx(i.Z,{children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Agenda"}),s.jsx("div",{style:{height:"calc(100vh - 250px)"},children:s.jsx(u,{agendamentos:e,onSelectSlot:({start:e})=>{l(e),d(null),x(!0)},onSelectEvent:e=>{d(e),l(null),x(!0)}})})]})}),s.jsx(c,{isOpen:m,onClose:()=>{x(!1),l(null),d(null)},selectedDate:n,selectedEvent:o,onSave:t,onUpdate:a})]})}},22041:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(95344),r=a(62701),n=a(36501),l=a(47674);function i(){let{data:e}=(0,l.useSession)(),t=async()=>{await (0,l.signOut)({callbackUrl:"/"})};return s.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"MuseTera"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Bem-vindo, ",e?.user?.name||"Usu\xe1rio","!"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(r.Z,{className:"h-6 w-6 text-gray-600"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 text-white flex items-center justify-center",children:e?.user?.name?.charAt(0)||"U"}),(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-700",children:e?.user?.name||"Usu\xe1rio"}),s.jsx("p",{className:"text-gray-500",children:e?.user?.email})]}),s.jsx("div",{className:"h-8 border-l border-gray-200 mx-2"}),(0,s.jsxs)("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all duration-200 ease-in-out group",title:"Sair do sistema",children:[s.jsx("span",{className:"text-sm font-medium",children:"Sair"}),s.jsx(n.Z,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})})}},55831:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95344),r=a(20783),n=a.n(r),l=a(22254),i=a(81737),o=a(50749),d=a(16215),c=a(91184),u=a(43823),m=a(64104);let x=[{title:"Principal",items:[{name:"Dashboard",href:"/dashboard",icon:i.Z},{name:"Agenda",href:"/agenda",icon:o.Z}]},{title:"Terapia",items:[{name:"Pacientes",href:"/pacientes",icon:d.Z},{name:"Processos",href:"/processos",icon:c.Z}]},{title:"Recursos",items:[{name:"Biblioteca",href:"/biblioteca",icon:u.Z},{name:"Configura\xe7\xf5es",href:"/configuracoes",icon:m.Z}]}];function p(){let e=(0,l.usePathname)(),t=t=>e===t;return(0,s.jsxs)("aside",{className:"w-64 bg-indigo-800 text-white h-screen flex flex-col",children:[s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center px-4",children:s.jsx("span",{className:"text-xl font-semibold text-white",children:"MuseTera"})})}),s.jsx("nav",{className:"flex-1 px-4 space-y-8",children:x.map(e=>(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xs uppercase tracking-wider text-indigo-200 font-semibold mb-2",children:e.title}),s.jsx("ul",{className:"space-y-1",children:e.items.map(e=>s.jsx("li",{children:(0,s.jsxs)(n(),{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${t(e.href)?"bg-indigo-700 text-white":"text-indigo-100 hover:bg-indigo-700"}`,children:[s.jsx(e.icon,{className:"h-5 w-5"}),s.jsx("span",{children:e.name})]})},e.name))})]},e.title))})]})}},34602:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var s=a(95344),r=a(72454);function n({onSelect:e,selectedId:t,disabled:a,className:n=""}){let{patients:l,loading:i}=(0,r.w)();return i?s.jsx("div",{className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 text-sm text-center",children:"Carregando pacientes..."}):(0,s.jsxs)("div",{className:"w-full space-y-1",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Selecione o Paciente"}),(0,s.jsxs)("select",{value:t||"",onChange:t=>{let a=t.target.value;e((a?l.find(e=>e.id===a):null)||null)},disabled:a,className:`
          block w-full rounded-lg border-gray-300 
          py-2 sm:py-2.5 
          pl-3 pr-10 
          text-sm text-gray-900 
          focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 
          ${n}
        `,children:[s.jsx("option",{value:"",className:"text-xs sm:text-sm",children:"Selecione um paciente"}),l.map(e=>(0,s.jsxs)("option",{value:e.id,className:"text-xs sm:text-sm",children:[e.name," (",new Date(e.dateOfBirth).toLocaleDateString(),")"]},e.id))]})]})}},37212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Providers:()=>n});var s=a(95344),r=a(47674);function n({children:e}){return s.jsx(r.SessionProvider,{children:e})}},79956:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(95344);function r({children:e,className:t=""}){return s.jsx("div",{className:`bg-white rounded-xl shadow-lg ring-1 ring-gray-900/5 ${t}`,children:e})}},72454:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});var s=a(3729);function r(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),n=()=>{t(JSON.parse(localStorage.getItem("patients")||"[]").map(e=>({...e,dateOfBirth:new Date(e.dateOfBirth),createdAt:new Date(e.createdAt)}))),r(!1)};return(0,s.useEffect)(()=>(n(),window.addEventListener("patientsUpdated",n),()=>window.removeEventListener("patientsUpdated",n)),[]),{patients:e,loading:a,addPatient:t=>{let a=[...e,t];localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated"))},updatePatient:t=>{let a=[...e],s=a.findIndex(e=>e.id===t.id);-1!==s&&(a[s]=t,localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated")))},deletePatient:t=>{let a=e.filter(e=>e.id!==t);localStorage.setItem("patients",JSON.stringify(a)),window.dispatchEvent(new Event("patientsUpdated"))},refreshPatients:n}}},7385:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let s=(0,a(86843).createProxy)(String.raw`c:\Users\karlos\Desktop\tera\src\app\agenda\page.tsx`),{__esModule:r,$$typeof:n}=s,l=s.default},3855:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j,metadata:()=>b});var s=a(25036),r=a(53640),n=a.n(r);a(5023);var l=a(86843);let i=(0,l.createProxy)(String.raw`c:\Users\karlos\Desktop\tera\src\components\Sidebar.tsx`),{__esModule:o,$$typeof:d}=i,c=i.default,u=(0,l.createProxy)(String.raw`c:\Users\karlos\Desktop\tera\src\components\Header.tsx`),{__esModule:m,$$typeof:x}=u,p=u.default,g=(0,l.createProxy)(String.raw`c:\Users\karlos\Desktop\tera\src\components\providers.tsx`),{__esModule:h,$$typeof:f}=g;g.default;let v=(0,l.createProxy)(String.raw`c:\Users\karlos\Desktop\tera\src\components\providers.tsx#Providers`),b={title:"MuseTera",description:"Sistema de Gest\xe3o para Musicoterapeutas"};function j({children:e}){return s.jsx("html",{lang:"pt-BR",children:s.jsx("body",{className:n().className,children:s.jsx(v,{children:(0,s.jsxs)("div",{className:"flex h-screen",children:[s.jsx(c,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[s.jsx(p,{}),s.jsx("main",{className:"flex-1 p-6 bg-gray-50",children:e})]})]})})})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,329,395],()=>a(38880));module.exports=s})();